(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-587796fa"],{4200:function(t,e,n){"use strict";var i=n("1f04"),o=n("4f06"),s=n("b7d9"),a=n("d714"),r=[].join,h=o!=Object,u=a("join",",");i({target:"Array",proto:!0,forced:h||!u},{join:function(t){return r.call(s(this),void 0===t?",":t)}})},"4fd4":function(t,e,n){},5158:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ebook-reader"},[n("div",{attrs:{id:"read"}}),n("div",{staticClass:"ebook-reader-mask",on:{click:t.onMaskClick,touchmove:t.move,touchend:t.moveEnd,touchstart:t.moveStart,mousedown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.onMouseEnter(e)},mousemove:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.onMouseMove(e)},mouseup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.onMouseEnd(e)}}})])},o=[],s=(n("5b12"),n("9b5f"),n("4200"),n("e3b5"),n("3bae"),n("27ae"),n("591f"),n("feb3"),n("1d43"),n("ac0d")),a=n("7294"),r=n("e8ec"),h=n("5de6"),u=n("101f"),f={mixins:[s["a"]],methods:{onMouseEnter:function(t){this.mouseState=1,this.mouseStartTime=t.timeStamp,t.preventDefault(),t.stopPropagation()},onMouseMove:function(t){if(1===this.mouseState)this.mouseState=2;else if(2===this.mouseState){var e=0;this.firstOffsetY?(e=t.pageY-this.firstOffsetY,this.setOffsetY(e)):this.firstOffsetY=t.pageY}t.preventDefault(),t.stopPropagation()},onMouseEnd:function(t){var e=t.timeStamp-this.mouseStartTime;e<200&&(this.mouseState=4),2===this.mouseState?(this.setOffsetY(0),this.firstOffsetY=null,this.mouseState=3):this.mouseState=4,t.preventDefault(),t.stopPropagation()},move:function(t){var e=0;this.firstOffsetY?(e=t.changedTouches[0].pageY-this.firstOffsetY,this.setOffsetY(e)):this.firstOffsetY=t.changedTouches[0].pageY,event.preventDefault(),event.stopPropagation()},moveStart:function(t){},moveEnd:function(t){this.setOffsetY(0),this.firstOffsetY=0},getEbookName:function(){var t=this,e=this.$route.params.fileName.split("|"),n=e[1];Object(u["b"])(n,(function(n,i){!n&&i?t.setFileName(e.join("/")).then((function(){t.initEpub(i)})):t.setFileName(e.join("/")).then((function(){var e="http://42.193.126.226:7000/epub/"+t.fileName+".epub";t.initEpub(e)}))}))},parseBook:function(){var t=this;this.book.loaded.cover.then((function(e){t.book.archive.createUrl(e).then((function(e){t.setCover(e)}))})),this.book.loaded.metadata.then((function(e){t.setMetadata(e)})),this.book.loaded.navigation.then((function(e){var n=Object(h["d"])(e.toc);function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.parent?i(n.filter((function(e){return e.id===t.parent}))[0],++e):e}n.forEach((function(t){t.level=i(t)})),t.setNavigation(n)}))},initEpub:function(t){var e=this;this.book=new a["a"](t),this.setCurrentBook(this.book),this.parseBook(),this.rendition=this.book.renderTo("read",{width:innerWidth,height:innerHeight,method:"default"}),this.rendition.display().then((function(){e.beforeBookMounted()})),this.rendition.hooks.content.register((function(t){Promise.all([t.addStylesheet("".concat("http://42.193.126.226:7000","/fonts/daysOne.css")),t.addStylesheet("".concat("http://42.193.126.226:7000","/fonts/droidSans.css")),t.addStylesheet("".concat("http://42.193.126.226:7000","/fonts/tangerine.css")),t.addStylesheet("".concat("http://42.193.126.226:7000","/fonts/qiYi.css")),t.addStylesheet("".concat("http://42.193.126.226:7000","/fonts/webfont.css")),t.addStylesheet("".concat("http://42.193.126.226:7000","/fonts/chBold.css"))]).then((function(){}))})),this.book.ready.then((function(){return e.book.locations.generate(window.innerWidth/375*750*(e.defaultFontSize/16))})).then((function(t){e.setBookAvailable(!0),e.refreshLocation()}))},prevPage:function(){var t=this;this.rendition&&this.rendition.prev().then((function(){t.refreshLocation()}))},nextPage:function(){var t=this;this.rendition&&this.rendition.next().then((function(){t.refreshLocation()}))},beforeBookMounted:function(){var t=this;this.themeList.forEach((function(e){t.rendition.themes.register(e.name,e.style)})),this.rendition.themes.select(this.defaultTheme);var e=Object(r["c"])(this.fileName,"defaultFontSize");e&&(this.setDefaultFontSize(e),this.rendition.themes.fontSize(this.defaultFontSize+"px"));var n=Object(r["c"])(this.fileName,"defaultFontFamily");n&&(this.setDefaultFontFamily(n),this.rendition.themes.font(this.defaultFontFamily));var i=Object(r["c"])(this.fileName,"defaultTheme");i&&(this.setDefaultTheme(i),this.rendition.themes.select(this.defaultTheme)),this.initClobalStyle();var o=Object(r["h"])(this.fileName);o&&this.currentBook.rendition.display(o).then((function(){t.refreshLocation()}))},onMaskClick:function(t){if(!this.mouseState||2!==this.mouseState&&3!==this.mouseState){var e=t.offsetX,n=window.innerWidth;e>0&&e<.3*n?(this.prevPage(),this.toggleTitleAndMenu()):e>0&&e>.7*n?(this.nextPage(),this.toggleTitleAndMenu()):this.showOrHideMenu()}}},mounted:function(){this.getEbookName()}},c=f,l=(n("cf48"),n("5d22")),d=Object(l["a"])(c,i,o,!1,null,"1b04c1e6",null);e["default"]=d.exports},"5b12":function(t,e,n){"use strict";var i=n("9194"),o=n("d192"),s=n("baa9"),a=n("4023"),r=n("b418"),h=n("c11d"),u=n("a187"),f=n("1a58"),c=n("5a62"),l=n("7ce6"),d=[].push,p=Math.min,v=4294967295,m=!l((function(){return!RegExp(v,"y")}));i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(a(this)),s=void 0===n?v:n>>>0;if(0===s)return[];if(void 0===t)return[i];if(!o(t))return e.call(i,t,s);var r,h,u,f=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,m=new RegExp(t.source,l+"g");while(r=c.call(m,i)){if(h=m.lastIndex,h>p&&(f.push(i.slice(p,r.index)),r.length>1&&r.index<i.length&&d.apply(f,r.slice(1)),u=r[0].length,p=h,f.length>=s))break;m.lastIndex===r.index&&m.lastIndex++}return p===i.length?!u&&m.test("")||f.push(""):f.push(i.slice(p)),f.length>s?f.slice(0,s):f}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=a(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,o,n):i.call(String(o),e,n)},function(t,o){var a=n(i,t,this,o,i!==e);if(a.done)return a.value;var c=s(t),l=String(this),d=r(c,RegExp),g=c.unicode,b=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(m?"y":"g"),k=new d(m?c:"^(?:"+c.source+")",b),y=void 0===o?v:o>>>0;if(0===y)return[];if(0===l.length)return null===f(k,l)?[l]:[];var S=0,O=0,w=[];while(O<l.length){k.lastIndex=m?O:0;var x,E=f(k,m?l:l.slice(O));if(null===E||(x=p(u(k.lastIndex+(m?0:O)),l.length))===S)O=h(l,O,g);else{if(w.push(l.slice(S,O)),w.length===y)return w;for(var M=1;M<=E.length-1;M++)if(w.push(E[M]),w.length===y)return w;O=S=x}}return w.push(l.slice(S)),w}]}),!m)},cf48:function(t,e,n){"use strict";n("4fd4")},d192:function(t,e,n){var i=n("97f5"),o=n("36b2"),s=n("3086"),a=s("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==o(t))}}}]);
//# sourceMappingURL=chunk-587796fa.54033c90.js.map